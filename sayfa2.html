<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>Dönüm Noktaları</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      margin: 0;
      padding: 0;
      background-color: #fff0f5;
      font-family: 'Segoe UI', sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .image-area {
      position: relative;
      width: 100vw;
      height: 50vh;
      overflow: hidden;
      border-bottom: 2px dashed #e91e63;
    }

    .image-area img {
      position: absolute;
      max-width: 30vw;
      max-height: 30vh;
      opacity: 0;
      transition: opacity 1s ease;
    }

    .image-area img.visible {
      opacity: 1;
    }

    .text-area {
      width: 90vw;
      height: 50vh;
      padding: 20px;
      box-sizing: border-box;
      text-align: center;
      color: #880e4f;
      font-size: 1.1rem;
      white-space: pre-wrap;
      overflow-y: auto;
    }

    .end-text {
      font-size: 1.4rem;
      color: #e91e63;
      margin-top: 20px;
      display: none;
      animation: fadeIn 2s ease forwards;
    }

    .back-btn {
      display: none;
      margin-top: 20px;
      background-color: #e91e63;
      color: white;
      padding: 12px 24px;
      border: none;
      border-radius: 8px;
      font-size: 1rem;
      cursor: pointer;
      font-family: 'Segoe UI', sans-serif;
      transition: background-color 0.3s;
    }

    .back-btn:hover {
      background-color: #c2185b;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body>

  <div class="image-area" id="image-area"></div>

  <div class="text-area">
    <div id="text"></div>
    <div id="end-text" class="end-text">Seni hep seveceğim...</div>
    <button id="backBtn" class="back-btn" onclick="goBack()">◀️ Önceki Sayfa</button>
  </div>

  <script>
    const imageArea = document.getElementById("image-area");
    const imageCount = 34;
    const usedPositions = [];

    function getRandomPosition() {
      let x, y;
      let overlap;
      let attempts = 0;

      do {
        x = Math.floor(Math.random() * (window.innerWidth * 0.7));
        y = Math.floor(Math.random() * (window.innerHeight * 0.45));
        overlap = usedPositions.some(pos => Math.abs(pos.x - x) < 150 && Math.abs(pos.y - y) < 150);
        attempts++;
        if (attempts > 100) break;
      } while (overlap);

      usedPositions.push({ x, y });
      return { x, y };
    }

    function getRandomRotation() {
      const angles = [0, 20, 30, 45];
      return angles[Math.floor(Math.random() * angles.length)];
    }

    function showImage(i) {
      if (i > imageCount) {
        setTimeout(startTyping, 1000);
        return;
      }

      const img = document.createElement("img");
      img.src = `sayfa2/foto${i}.png`;

      const { x, y } = getRandomPosition();
      img.style.left = `${x}px`;
      img.style.top = `${y}px`;
      img.style.transform = `rotate(${getRandomRotation()}deg)`;

      imageArea.appendChild(img);

      setTimeout(() => img.classList.add("visible"), 100);

      setTimeout(() => {
        showImage(i + 1);
      }, 2000);
    }

    const text = `Her şeyin kırılma noktasıydı bu zamanlar…
Bazen tek bir mesaj, tek bir cümle, her şeyi değiştirebilir.
İçimizde birikenleri sustuk, bazen sustukça daha çok yara aldık.
Ama yine de bir kelimeyle dönmeyi başardık.

Ne zaman biteceğiz diye düşünürken, yeniden başlamayı öğrendik.
Bazen sadece ‘orada mısın?’ sorusu, bir ‘seni özledim’ kadar güçlü oldu.

İşte tüm bu satırlar, bizi biz yapan çatlaklar gibi...
Kırıldık, eğildik ama hep bir şekilde yeniden sarıldık.

Bu yüzden o anlar da bizim hikâyemiz, bizim dönüm noktalarımız…`;

    const textContainer = document.getElementById("text");
    const endText = document.getElementById("end-text");
    const backBtn = document.getElementById("backBtn");

    function startTyping() {
      let i = 0;
      const interval = setInterval(() => {
        if (i < text.length) {
          textContainer.textContent += text[i];
          i++;
        } else {
          clearInterval(interval);
          setTimeout(() => {
            endText.style.display = "block";
            backBtn.style.display = "inline-block";
          }, 1000);
        }
      }, 40);
    }

    function goBack() {
      window.location.href = "devam.html";
    }

    showImage(1);
  </script>

</body>
</html>
